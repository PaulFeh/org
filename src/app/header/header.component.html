<header class="border-b border-gray-200 bg-white py-4 relative">
  <div
    class="max-w-7xl mx-auto px-4 flex flex-wrap items-center justify-between"
  >
    <!-- Logo and Title -->
    <div class="flex items-center gap-2">
      <img
        src="https://cdn-icons-png.flaticon.com/512/616/616408.png"
        alt="Petstore Logo"
        class="w-10 h-10"
      />
      <h1 class="text-2xl font-bold text-blue-700 m-0">Paul's Petstore!</h1>
    </div>

    <!-- Hamburger Button -->
    <button
      class="md:hidden text-blue-700 text-3xl"
      (click)="toggleMenu()"
      aria-label="Toggle Menu"
    >
      â˜°
    </button>

    <!-- Navigation Links (Desktop) -->
    <nav class="hidden md:flex items-center gap-6">
      <a
        routerLink="/"
        class="text-blue-600 hover:text-blue-800 hover:underline transition"
        >Home</a
      >
      <a
        routerLink="/add-pet"
        class="text-blue-600 hover:text-blue-800 hover:underline transition"
        >Add Pet</a
      >

      <ng-container *ngIf="isLoggedIn()">
        <button
          (click)="openCartSidebar()"
          class="relative flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:underline transition focus:outline-none"
          aria-label="Open shopping cart"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7A1 1 0 007.5 17h9a1 1 0 00.85-1.53L17 13M7 13V6a1 1 0 011-1h6a1 1 0 011 1v7"
            />
          </svg>
          <span>Cart</span>
        </button>
      </ng-container>

      <ng-container *ngIf="!isLoggedIn(); else logoutLinks">
        <a
          routerLink="/login"
          class="text-blue-600 hover:text-blue-800 hover:underline transition"
          >Login</a
        >
      </ng-container>

      <ng-template #logoutLinks>
        <button
          (click)="logout()"
          class="bg-blue-600 text-white rounded-md px-4 py-2 transition hover:bg-blue-700"
        >
          Logout
        </button>
      </ng-template>
    </nav>
  </div>

  <!-- Dropdown Menu (Mobile Only) -->
  <div
    *ngIf="menuOpen && screenIsSmall()"
    class="absolute top-full left-0 w-full bg-white border-t border-blue-200 shadow-md md:hidden"
  >
    <nav class="flex flex-col px-4 py-3 gap-3">
      <a
        routerLink="/"
        class="text-blue-600 hover:text-blue-800 hover:underline transition"
        >Home</a
      >
      <a
        routerLink="/add-pet"
        class="text-blue-600 hover:text-blue-800 hover:underline transition"
        >Add Pet</a
      >
      <ng-container *ngIf="isLoggedIn()">
        <button
          (click)="openCartSidebar()"
          class="relative flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:underline transition focus:outline-none"
          aria-label="Open shopping cart"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7A1 1 0 007.5 17h9a1 1 0 00.85-1.53L17 13M7 13V6a1 1 0 011-1h6a1 1 0 011 1v7"
            />
          </svg>
          <span>Cart</span>
        </button>
      </ng-container>
      <ng-container *ngIf="!isLoggedIn(); else logoutLinksMobile">
        <a
          routerLink="/login"
          class="text-blue-600 hover:text-blue-800 hover:underline transition"
          >Login</a
        >
      </ng-container>

      <ng-template #logoutLinksMobile>
        <button
          (click)="logout()"
          class="bg-blue-600 text-white rounded-md px-4 py-2 transition hover:bg-blue-700"
        >
          Logout
        </button>
      </ng-template>
    </nav>
  </div>
  <!-- Shopping Cart Sidebar -->
  <app-shoppingcart
    [sidebarOpen]="cartSidebarOpen"
    (sidebarOpenChange)="cartSidebarOpen = $event"
  ></app-shoppingcart>
</header>
